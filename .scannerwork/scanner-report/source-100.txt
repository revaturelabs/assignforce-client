<div id="reportsDiv">

  <!--Main Toolbar -->
  <mat-toolbar>
    <mat-toolbar-row>
      <span class="mat-expansion-panel-header-title"> Reports </span>
      <span flex> </span>
    </mat-toolbar-row>
  </mat-toolbar>

  <!--Future Projection Tab-->
  <mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>Batch Projection</mat-panel-title>
      </mat-expansion-panel-header>
    </mat-expansion-panel>
  </mat-accordion>

  <mat-accordion>
    <mat-expansion-panel [expanded]="true">
      <mat-expansion-panel-header>
          <mat-panel-title>Graduate Summary for {{currentYear}}</mat-panel-title>
      </mat-expansion-panel-header>
      <mat-table #table [dataSource]="reports">

        <ng-container class="column" matColumnDef="skill">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Curriculum </mat-header-cell>
          <mat-cell *matCellDef="let report"> {{report.name}} </mat-cell>
        </ng-container>

        <ng-container *ngFor="let month of monthNames; let i = index" class="column" matColumnDef="{{month}}">
          <mat-header-cell *matHeaderCellDef> {{month}} </mat-header-cell>
          <mat-cell *matCellDef="let report"> {{report.data[i]}} </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="monthNames"></mat-header-row>
        <mat-row *matRowDef="let row; columns: monthNames;"></mat-row>
      </mat-table>
      <div #traineeChartThisYear></div>
    </mat-expansion-panel>
  </mat-accordion>

  <mat-accordion>
    <mat-expansion-panel [expanded]="true">
      <mat-expansion-panel-header>
        <mat-panel-title>Incoming Trainee Summary For {{currentYear}}</mat-panel-title>
      </mat-expansion-panel-header>
      <mat-table #table [dataSource]="reports3">

        <ng-container class="column" matColumnDef="skill">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Curriculum </mat-header-cell>
          <mat-cell *matCellDef="let report"> {{report.skill}} </mat-cell>
        </ng-container>

        <ng-container *ngFor="let month of monthNames; let i = index" class="column" matColumnDef="{{month}}">
          <mat-header-cell *matHeaderCellDef> {{month}} </mat-header-cell>
          <mat-cell *matCellDef="let report"> {{report.data[i]}} </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="monthNames"></mat-header-row>
        <mat-row *matRowDef="let row; columns: monthNames;"></mat-row>
      </mat-table>
      <div #traineeChartNextYear></div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
